files <- dir(directory, pattern = '.csv', full.names = TRUE)
tables <- lapply(files, read.csv, head=TRUE, sep=",")
tables[1]
tables[1]$Date
tables[1]$ Date
do.call(rbind,tables)
assign('temp_table',do.call(rbind,tables))
class(temp_table)
temp_table$Date
res <- mean(temp_table$sulfate,na.rm=TRUE)
res2 <- mean(temp_table$nitrate,na.rm=TRUE)
tables.Date
temp_table.Date
temp_table[temp_table$ID == 1]
temp_table[temp_table$ID == 1,]
temp_table[temp_table$ID >= 1 && temp_table$ID <=2,]
temp_table[temp_table$ID >= 1 | temp_table$ID <=2,]
temp <- temp_table[temp_table$ID >= 1 | temp_table$ID <=2,]
temp <- temp_table[temp_table$ID >= 1,]
temp <- subset(temp_table,temp_table$ID == 1]
temp <- subset(temp_table,temp_table$ID == 1)
temp <- subset(temp_table,temp_table$ID >= 1 && temp_table$ID <= 2)
temp <- subset(temp_table,temp_table$ID >= 1 & temp_table$ID <= 2)
id <- 1:2
id <- 1:20
length(id)
id[length]
id(length)
id(20)
id
id[20]
id[length(id)]
id[1]
temp$sulfate
id = 23
id[1]
source('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantmean.R')
directory <- "C:/Users/ks692/Documents/Dingchao/Courses/R/specdata/"
pollutantmean <- function(directory, 'sulfate', 1:20)
pollutantmean <- function(directory, sulfate, 1:20)
pollutantmean <- function(directory, sulfate, 1)
id = 1
pollutantmean <- function(directory, sulfate, id)
pollutantmean <- function(directory, sulfate, id)
pollutantmean(directory, 'sulfate', 1)
pollutantmean(directory, 'sulfate, 1)
pollutantmean(directory, sulfate, 1)
source('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantmean.R')
source('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantmean.R')
pollutantmean(directory, sulfate, 1)
pollutantmean(directory, "sulfate", 1)
pollutantmean(directory, "sulfate", 1:20)
pollutantmean(directory, sulfate, 2 )
source('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantmean.R')
pollutantmean(directory, sulfate, 2 )
directory <- "C:/Users/ks692/Documents/Dingchao/Courses/R/specdata/"
files <- dir(directory, pattern = '.csv', full.names = TRUE)
tables <- lapply(files, read.csv)
assign('data',do.call(rbind, tables))
attach(data)
id <- 2:20
temp <- subset(data,data$ID >= id[1] & data$ID <= id[length(id)])
temp <- subset(data,data$ID >= id[1] & data$ID <= id[length(id)])$ sulfate
source('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantmean.R')
pollutantmean(directory, sulfate, 2)
pollutantmean(directory, sulfate, 2:5)
pollutantmean(directory, "sulfate", 2:5)
pollutantmean(directory, sulfate, 2:5)
source('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantmean.R')
pollutantmean(directory, sulfate, 2:5)
pollutantmean(directory, "sulfate", 2:5)
pollutantmean(directory, "sulfate", 2:5)
source('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantmean.R')
pollutantmean(directory, "sulfate", 2:5)
source('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantmean.R')
pollutantmean(directory, "sulfate", 2:5)
pollutantmean(directory, sulfate, 2:5)
pollutantmean(directory, ID, 2:5)
pollutantmean(directory, "ID", 2:5)
x <- "sulfate"
pollutantmean(directory, x, 2:5)
x <- sulfate
y <- sulfate
pollutantmean(directory, x, 2:5)
y <- ID
y <- "ID"
pollutantmean(directory, y, 2:5)
source('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantmean.R')
pollutantmean(directory, pollutant , 2:5)
source('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantmean.R')
pollutantmean(directory, pollutant, 2:5)
directory <- "C:/Users/ks692/Documents/Dingchao/Courses/R/specdata/"
files <- dir(directory, pattern = '.csv', full.names = TRUE)
#apply read.csv to the list of all files and store data into var tables
tables <- lapply(files, read.csv)
#combine the large lists of tables into one and store in data var
assign('data',do.call(rbind, tables))
#attach data so no need to add $ to refer to var
#attach(data)
#return(tables)
# subset data to the rows and column defined by user input
temp <- subset(data,data$ID >= id[1] & data$ID <= id[length(id)])
print(head(temp))
id <- 2:5
temp <- subset(data,data$ID >= id[1] & data$ID <= id[length(id)])
print(head(temp))
temp$ID
temp$"ID"
temp[,ID]
temp[ID,]
source('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantmean.R')
pollutantmean(directory, pollutant, 2:5)
traceback()
pollutantmean(directory, sulfate, 2:5)
traceback()
debug(pollutantmean)
pollutantmean(directory, sulfate, 2:5)
debug(pollutantmean)
pollutantmean(directory, sulfate, 2:5)
debug(pollutantmean)
pollutantmean(directory, sulfate, 2:5)
q
pollutantmean(directory, sulfate, 2:5)
pollutant
sulfate
q
q
debug(pollutantmean)
pollutantmean(directory, sulfate, 2:5)
debug(pollutantmean)
pollutantmean(directory, sulfate, 2:5)
debug(pollutantmean)
pollutantmean(directory, sulfate, 2:5)
debugSource('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantmean.R')
debug(pollutantmean)
pollutantmean(directory, sulfate, 2:5)
q
q
debugSource('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantmean.R')
debug(pollutantmean)
pollutantmean(directory, sulfate, 2:5)
debug(pollutantmean)
debugSource('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantmean.R')
debug(pollutantmean)
pollutantmean(directory, sulfate, 2:5)
q
debugSource('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantmean.R')
debug(pollutantmean)
pollutantmean(directory, sulfate, 2:5)
debug(pollutantmean)
pollutantmean(directory, sulfate, 2:5)
data$sulfate
s <- data$sulfate
x <- data$pollutant
pollutant <- "sulfate"
x <- data$pollutant
x
pollutant <- sulfate
tit <- 'sulfate'
x <- data$tit
x
q
q
debug(pollutantmean)
pollutantmean(directory, sulfate, 2:5)
debugSource('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantmean.R')
debug(pollutantmean)
pollutantmean(directory, sulfate, 2:5)
class(pollutant)
pollutant
pollutant <- ID
pollutant <- "ID"
data$pollutant
data$ID
class(pollutant)
toString(pollutant)
class(pollutant)
data$pollutant
colnames(data)
coln <- colnames(data)
coln[4]
class(coln[4])
coln[4] == "ID"
coln[4] == pollutant
data$coln[4]
data[,coln[4]]
data[,pollutant
q
data[,pollutant]
t <- data[,pollutant]
debug(pollutantmean)
pollutantmean(directory, sulfate, 2:5)
temp$sulfate
debug(pollutantmean)
pollutantmean(directory, "sulfate", 2:5)
pollutant == "sulfate"
source('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantmean.R')
pollutantmean(directory, "sulfate", 2:5)
source('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantmean.R')
pollutantmean(directory, "nitrate", 2:5)
debug(pollutantnobs)
source('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantnobs.R')
debug(pollutantnobs)
debug(pollutantnobs)
source('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantnobs.R')
debug(pollutantnobs)
pollutantnobs(directory,c(2,4,6))
debugSource('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantnobs.R')
debug(pollutantnobs)
pollutantnobs(directory,c(2,4,6))
id[1]
id[2]
id <- 30:26
id[1]
id[2]
length(id)
length <- length(id)
res <- data.frame(id=numeric(length), nobs = numeric(length))
res
for ( i in 1:length(id)) {print id[i]}
for ( i in 1:length(id)) {print (id[i])}
data$id[1]
temp <- subset(data,data$ID == id[1])
res
res[1,1]
res[0,0]
res[1,1]
res[1,1] <- 1
res
res[1,2] <- 1
res
length(temp$ID)
length(temp)
!is.na(temp$sulfate[1])
i <- 1
!is.na(temp$sulfate[i]) & !is.na(temp$nitrate[i])
debugSource('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantnobs.R')
debugSource('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantnobs.R')
if(1==1 & 2==2){ print("ok")}
if(1==1 & 2==2){ print(ok)}
directory <- "C:/Users/ks692/Documents/Dingchao/Courses/R/specdata/"
# files is a char array of all the csv files path
files <- dir(directory, pattern = '.csv', full.names = TRUE)
#apply read.csv to the list of all files and store data into var tables
tables <- lapply(files, read.csv)
#combine the large lists of tables into one and store in data var
assign('data',do.call(rbind, tables))
## 'id' is an integer vector indicating the monitor ID numbers
## to be used
#Get the length of id
length <- length(id)
#Create the data.frame as res
res <- data.frame(id=numeric(length), nobs = numeric(length))
id <- 30:25
#Get the length of id
length <- length(id)
#Create the data.frame as res
res <- data.frame(id=numeric(length), nobs = numeric(length))
# Loop into to update values of the res data.frame
for (i in 1:length(id)) {
# subset selected ID data into temp var
temp <- subset(data,data$ID == id[i])
# count var initiate
count <- 0
# loop into temp var to count nobs
for (i in 1: length(temp$ID)) {
#if sulfate and nitrate are not NA
if(!is.na(temp$sulfate[i]) & !is.na(temp$nitrate[i])) {
count ++
}
}
# set the id value
res[i,1] <- id[i]
# set the nobs value
res[i,2] <- count
}
# Loop into to update values of the res data.frame
for (i in 1:length(id)) {
# subset selected ID data into temp var
temp <- subset(data,data$ID == id[i])
# count var initiate
count <- 0
# loop into temp var to count nobs
for (j in 1: length(temp$ID)) {
#if sulfate and nitrate are not NA
if(!is.na(temp$sulfate[j]) & !is.na(temp$nitrate[j])) {
count ++
}
}
# set the id value
res[i,1] <- id[i]
# set the nobs value
res[i,2] <- count
}
debugSource('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantnobs.R')
debugSource('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantnobs.R')
pollutantnobs(directory,30:25)
q
pollutantnobs(directory,30:25)
debugSource('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantnobs.R')
pollutantnobs(directory,30:25)
pollutantnobs(directory,33)
?cor
cor(data$sulfate,data$nitrate)
cor(data$sulfate,data$nitrate,na.rm = TRUE)
x <- max(data$sulfate,na.rm= TURE)
x <- max(data$sulfate,na.rm=TURE)
x <- na.omit(data$sulfate)
y <- na.omit(data$nitrate)
temp <- subset(data,data$sulfate,data$nitrate)
temp <- subset(data,!is.na(data$sulfate)&!is.na(data$nitrate)
q
temp <- subset(data,!is.na(data$sulfate)&!is.na(data$nitrate))
sum(temp$ID)
sum(temp$ID == 1)
res <- vector()
temp[temp$ID == 1]
temp(temp$ID == 1)
temp[temp$ID == 1]
temp[temp$ID > 1]
temp[temp$sulfate > 1]
source('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantcorr.R')
debug(corr)
corr(directory,150)
c
debug(corr)
corr(directory,150)
source('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantcorr.R')
debug(corr)
corr(directory,150)
corr(directory,5000)
corr(directory,50)
corr(directory,400)
corr(directory,400)
source('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantcorr.R')
debug(corr)
corr(directory,400)
sum(fildata$ID == i)
source('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantcorr.R')
corr(directory,400)
cr <- corr(directory,400)
summary(cr)
debugSource('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantnobs.R')
pollutantnobs(directory,39:26)
debugSource('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantnobs.R')
debugSource('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/pollutantnobs.R')
id <- 30:25
pollutantnobs(directory,39:26)
source('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/rprog-scripts-submitscript1.R')
submit()
source('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/vectormeancaching.R')
makevector(1:5)
makeVector(1:5)
makeVector(x = 1:5)
help("<<-")
t <- makeVector(10:20)
t
t2<-chemean(t)
t2<-cachemean(t)
debug(cachemean)
cachemean(t)
x
x$getmean
m
t <- makeVector(1:5)
cachemean(t)
source('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/matrix_inversion_caching.R')
t <- makeCacheMatrix(matrix(10:15,nrows=2,ncols=3))
t1 <- cacheSolve(t)
source('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/matrix_inversion_caching.R')
t <- makeCacheMatrix(matrix(10:15,nrow=2,ncol=3))
t1 <- cacheSolve(t)
source('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/matrix_inversion_caching.R')
t <- makeCacheMatrix(matrix(10:13,nrow=2,ncol=2))
t1 <- cacheSolve(t)
debug(cacheSolve)
t1 <- cacheSolve(t)
t <- makeCacheMatrix(matrix(1:3,nrow=2,ncol=2))
t1 <- cacheSolve(t)
source('~/Dingchao/Courses/R/Assignments/Hospital wk4/plot_mort_rate.R')
head(outcome)
outcome[,11] <- as.numeric(outcome[,11])
hist(outcome[,11])
class(outcome)
outcome$State
class(outcome$State)
outcome$State[1]
outcome$State[100]
unique(outcome$State)
state <- 'AL'
!(state %in% unique(outcome$State)
q
!(state %in% unique(outcome$State))
source('~/Dingchao/Courses/R/Assignments/Hospital wk4/best.R')
source('~/Dingchao/Courses/R/Assignments/Hospital wk4/best.R')
best("AL","heart attack")
best("AL","heart attac")
best("Aa","heart attack")
best("Aa","heart attak")
best("AL","heart attack")
min(data[,11])
max(data[,11])
max(data[,11])
min(data[,11])
min(data[,11])
min(data[,11],na.rm = TRUE)
max(data[,11],na.rm = TRUE)
which. min(data[,11],na.rm = TRUE)
which.min(data[,11],na.rm = TRUE)
which.min(data[,11])
which.max(data[,11])
data[,11][2850]
data[,11][229]
data[,2][229]
index <- 229
data[,2][index]
View(data)
source('~/Dingchao/Courses/R/Assignments/Hospital wk4/best.R')
best("IN","heart attack")
best("IN","heart failure")
best("IN","pneumonia")
best("MI","pneumonia")
best("MI","pneumoni")
best("MIa","pneumoni")
source('~/Dingchao/Courses/R/Assignments/Hospital wk4/best.R')
best("MI","pneumonia")
best("MI","pneumonia")
source('~/Dingchao/Courses/R/Assignments/Hospital wk4/best.R')
best("MI","pneumonia")
best("IN","pneumonia")
?which.min
is.integer(10)
is.integer(1)
is.wholenumber(10)
10 %% 1 ==0
10.5 %% 1 ==0
"s"%%1
is.character("best")
is.numeric(10)
is.numeric(10.5)
is.numeric(-10.5)
10 %% 1 != 0
source('~/Dingchao/Courses/R/Assignments/Hospital wk4/rankhospital.R')
rankhospital("IN","heart attack","best")
rankhospital("IN","heart attack","worst")
rankhospital("IN","heart attack",1)
rankhospital("IN","heart attack",10)
rankhospital("IN","heart attack",1000)
rankhospital("IN","heart attack",10.5)
source('~/Dingchao/Courses/R/Assignments/Hospital wk4/rankhospital.R')
rankhospital("IN","heart failure",10)
rankhospital("IN","heart failure",100)
rankhospital("IN","pneuomia",100)
rankhospital("IN","pneumonia",100)
source('~/Dingchao/Courses/R/Assignments/Hospital wk4/rankall.R')
rankall("heart attack",2)
x <- character(50)
source('~/Dingchao/Courses/R/Assignments/Hospital wk4/rankall.R')
source('~/Dingchao/Courses/R/Assignments/Hospital wk4/rankall.R')
source('~/Dingchao/Courses/R/Assignments/Hospital wk4/rankall.R')
rankall("heart attack",10)
source('~/Dingchao/Courses/R/Assignments/Hospital wk4/rankall.R', echo=TRUE)
source('~/Dingchao/Courses/R/Assignments/Hospital wk4/rankall.R')
rankall("heart attack",10)
debugSource('~/Dingchao/Courses/R/Assignments/Hospital wk4/rankall.R')
rankall("heart attack",10)
res
res <- data.frame(hospital=character(nstate), state = character(nstate))
res
debugSource('~/Dingchao/Courses/R/Assignments/Hospital wk4/rankall.R')
rankall("heart attack",10)
debugSource('~/Dingchao/Courses/R/Assignments/Hospital wk4/rankall.R')
rankall("heart attack",10)
source('~/Dingchao/Courses/R/Assignments/Hospital wk4/rankall.R')
rankall("heart failure",10)
rankall("pnumonia",10)
rankall("pneumonia",10)
tail(rankall("pneumonia","worst"),3)
tail(rankall("heart attack","worst"),3)
tail(rankall("heart attack","best"),3)
tail(rankall("pneumonia","best"),3)
tail(rankall("pneumonia","worst"),3)
set.seed(1)
rpois(5, 2)
set.seed(1)
rpois(5, 2)
set.seed(1)
rpois(5, 2)
source('~/Dingchao/Courses/R/Assignments/Air Pollution wk2/rprog-scripts-submitscript1.R')
submit()
source("http://d396qusza40orc.cloudfront.net/rprog%2Fscripts%2Fsubmitscript3.R")
submit(0)
dir <- 'C:\\Users\\ks692\\Documents\\Dingchao\\Courses\\R\\Assignments\\Hospital wk4'
setwd(dir)
source("http://d396qusza40orc.cloudfront.net/rprog%2Fscripts%2Fsubmitscript3.R")
submit()
submit()
3
submit()
submit()
submit()
submit()
submit()
dir <- 'C:\\Users\\ks692\\Documents\\Dingchao\\Courses\\R\\Assignments\\Air Pollution wk2'
setwd(dir)
source("http://d396qusza40orc.cloudfront.net/rprog%2Fscripts%2Fsubmitscript1.R")
submit()
submit()
submit()
submit()
submit()
submit()
